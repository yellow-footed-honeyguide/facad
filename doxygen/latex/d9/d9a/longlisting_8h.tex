\doxysection{/home/honeyguide/\+Desktop/\+My\+Open\+Source/facad/src/longlisting.h File Reference}
\hypertarget{longlisting_8h}{}\label{longlisting_8h}\index{/home/honeyguide/Desktop/MyOpenSource/facad/src/longlisting.h@{/home/honeyguide/Desktop/MyOpenSource/facad/src/longlisting.h}}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/ddb/longlisting_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{longlisting_8h_a9aa67dc0ec987dacbfbc8dfe5745c5be}{print\+\_\+longlisting}} (const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em Prints a detailed listing of the contents of a directory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{longlisting_8h_a1af2c63d6b774640dcf8f6b3127dfa47}{print\+\_\+longlisting\+\_\+files}} (const char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}patterns, int pattern\+\_\+count)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{longlisting_8h_a9aa67dc0ec987dacbfbc8dfe5745c5be}\label{longlisting_8h_a9aa67dc0ec987dacbfbc8dfe5745c5be} 
\index{longlisting.h@{longlisting.h}!print\_longlisting@{print\_longlisting}}
\index{print\_longlisting@{print\_longlisting}!longlisting.h@{longlisting.h}}
\doxysubsubsection{\texorpdfstring{print\_longlisting()}{print\_longlisting()}}
{\footnotesize\ttfamily void print\+\_\+longlisting (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path }\end{DoxyParamCaption})}



Prints a detailed listing of the contents of a directory. 


\begin{DoxyParams}{Parameters}
{\em path} & The path of the directory to list. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{longlisting_8c_source_l00306}{306}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00307\ \ \ \ \ setlocale(LC\_ALL,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ entries[\mbox{\hyperlink{longlisting_8c_ad30c77daca10f0c2b941969c01beedee}{MAX\_ENTRIES}}];}
\DoxyCodeLine{00310\ \ \ \ \ \textcolor{keywordtype}{int}\ entry\_count\ =\ 0;}
\DoxyCodeLine{00311\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ max\_owner\_len\ =\ 0;}
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ max\_time\_ago\_len\ =\ 0;}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00314\ \ \ \ \ DIR\ *dir\ =\ opendir(path);}
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{keywordflow}{if}\ (!dir)\ \{}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}Error\ opening\ directory"{}});}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00318\ \ \ \ \ \}}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \ \ \ \ \textcolor{keyword}{struct\ }dirent\ *entry;}
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{keywordflow}{while}\ ((entry\ =\ readdir(dir))\ !=\ NULL\ \&\&\ entry\_count\ <\ \mbox{\hyperlink{longlisting_8c_ad30c77daca10f0c2b941969c01beedee}{MAX\_ENTRIES}})\ \{}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strcmp(entry-\/>d\_name,\ \textcolor{stringliteral}{"{}."{}})\ ==\ 0\ ||\ strcmp(entry-\/>d\_name,\ \textcolor{stringliteral}{"{}.."{}})\ ==\ 0)\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ full\_path[\mbox{\hyperlink{longlisting_8c_ab99ded389af74001a6298fc9e44e74e5}{MAX\_PATH}}];}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ snprintf(full\_path,\ \textcolor{keyword}{sizeof}(full\_path),\ \textcolor{stringliteral}{"{}\%s/\%s"{}},\ path,\ entry-\/>d\_name);}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ *fi\ =\ \&entries[entry\_count];}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{longlisting_8c_a58ed2be9f460ed564cbd43d32e1ce658}{get\_file\_info}}(\mbox{\hyperlink{structfile__info_a605808d3db7b33b36b4cce172ca71eb0}{full\_path}},\ fi,\ \&max\_owner\_len,\ \&max\_time\_ago\_len)\ ==\ 0)\ \{}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ entry\_count++;}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00331\ \ \ \ \ \}}
\DoxyCodeLine{00332\ \ \ \ \ closedir(dir);}
\DoxyCodeLine{00333\ }
\DoxyCodeLine{00334\ \ \ \ \ qsort(entries,\ entry\_count,\ \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structfile__info}{file\_info}}),\ \mbox{\hyperlink{longlisting_8c_a18cb88825df7452df9b5ce2309c887cf}{compare\_entries}});}
\DoxyCodeLine{00335\ \ \ \ \ \mbox{\hyperlink{longlisting_8c_a33c3f39ac9dd42760160e6cf451aed2a}{print\_sorted\_entries}}(entries,\ entry\_count,\ max\_owner\_len,\ max\_time\_ago\_len);}
\DoxyCodeLine{00336\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{longlisting_8c_source_l00199}{compare\+\_\+entries()}}, \mbox{\hyperlink{longlisting_8c_source_l00038}{file\+\_\+info\+::full\+\_\+path}}, \mbox{\hyperlink{longlisting_8c_source_l00233}{get\+\_\+file\+\_\+info()}}, \mbox{\hyperlink{longlisting_8c_source_l00029}{MAX\+\_\+\+ENTRIES}}, \mbox{\hyperlink{longlisting_8c_source_l00028}{MAX\+\_\+\+PATH}}, and \mbox{\hyperlink{longlisting_8c_source_l00279}{print\+\_\+sorted\+\_\+entries()}}.



Referenced by \mbox{\hyperlink{main_8c_source_l00275}{main()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9a/longlisting_8h_a9aa67dc0ec987dacbfbc8dfe5745c5be_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{d9/d9a/longlisting_8h_a9aa67dc0ec987dacbfbc8dfe5745c5be_icgraph}
\end{center}
\end{figure}
\Hypertarget{longlisting_8h_a1af2c63d6b774640dcf8f6b3127dfa47}\label{longlisting_8h_a1af2c63d6b774640dcf8f6b3127dfa47} 
\index{longlisting.h@{longlisting.h}!print\_longlisting\_files@{print\_longlisting\_files}}
\index{print\_longlisting\_files@{print\_longlisting\_files}!longlisting.h@{longlisting.h}}
\doxysubsubsection{\texorpdfstring{print\_longlisting\_files()}{print\_longlisting\_files()}}
{\footnotesize\ttfamily void print\+\_\+longlisting\+\_\+files (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{patterns,  }\item[{int}]{pattern\+\_\+count }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{longlisting_8c_source_l00339}{339}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00340\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ entries[\mbox{\hyperlink{longlisting_8c_ad30c77daca10f0c2b941969c01beedee}{MAX\_ENTRIES}}];}
\DoxyCodeLine{00341\ \ \ \ \ \textcolor{keywordtype}{int}\ entry\_count\ =\ 0;}
\DoxyCodeLine{00342\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ max\_owner\_len\ =\ 0;}
\DoxyCodeLine{00343\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ max\_time\_ago\_len\ =\ 0;}
\DoxyCodeLine{00344\ }
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ pattern\_count;\ i++)\ \{}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ glob\_t\ globbuf;}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ glob\_result\ =\ glob(patterns[i],\ GLOB\_TILDE,\ NULL,\ \&globbuf);}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (glob\_result\ ==\ 0)\ \{}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ j\ =\ 0;\ j\ <\ globbuf.gl\_pathc\ \&\&\ entry\_count\ <\ \mbox{\hyperlink{longlisting_8c_ad30c77daca10f0c2b941969c01beedee}{MAX\_ENTRIES}};\ j++)\ \{}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ *fi\ =\ \&entries[entry\_count];}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{longlisting_8c_a58ed2be9f460ed564cbd43d32e1ce658}{get\_file\_info}}(globbuf.gl\_pathv[j],\ fi,\ \&max\_owner\_len,\ \&max\_time\_ago\_len)\ ==\ 0)\ \{}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ entry\_count++;}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}glob\ error\ for\ pattern\ '\%s':\ \%s\(\backslash\)n"{}},\ patterns[i],\ strerror(errno));}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ globfree(\&globbuf);}
\DoxyCodeLine{00360\ \ \ \ \ \}}
\DoxyCodeLine{00361\ }
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{keywordflow}{if}\ (entry\_count\ >\ 0)\ \{}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ qsort(entries,\ entry\_count,\ \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structfile__info}{file\_info}}),\ \mbox{\hyperlink{longlisting_8c_a18cb88825df7452df9b5ce2309c887cf}{compare\_entries}});}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{longlisting_8c_a33c3f39ac9dd42760160e6cf451aed2a}{print\_sorted\_entries}}(entries,\ entry\_count,\ max\_owner\_len,\ max\_time\_ago\_len);}
\DoxyCodeLine{00365\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}No\ matching\ files\ found.\(\backslash\)n"{}});}
\DoxyCodeLine{00367\ \ \ \ \ \}}
\DoxyCodeLine{00368\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{longlisting_8c_source_l00199}{compare\+\_\+entries()}}, \mbox{\hyperlink{longlisting_8c_source_l00233}{get\+\_\+file\+\_\+info()}}, \mbox{\hyperlink{longlisting_8c_source_l00029}{MAX\+\_\+\+ENTRIES}}, and \mbox{\hyperlink{longlisting_8c_source_l00279}{print\+\_\+sorted\+\_\+entries()}}.



Referenced by \mbox{\hyperlink{main_8c_source_l00275}{main()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9a/longlisting_8h_a1af2c63d6b774640dcf8f6b3127dfa47_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=277pt]{d9/d9a/longlisting_8h_a1af2c63d6b774640dcf8f6b3127dfa47_icgraph}
\end{center}
\end{figure}
