\doxysection{/home/honeyguide/\+Desktop/\+My\+Open\+Source/facad/src/longlisting.c File Reference}
\hypertarget{longlisting_8c}{}\label{longlisting_8c}\index{/home/honeyguide/Desktop/MyOpenSource/facad/src/longlisting.c@{/home/honeyguide/Desktop/MyOpenSource/facad/src/longlisting.c}}


Implementation of detailed directory listing functionality.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$sys/stat.\+h$>$}\newline
{\ttfamily \#include $<$dirent.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$pwd.\+h$>$}\newline
{\ttfamily \#include $<$grp.\+h$>$}\newline
{\ttfamily \#include $<$locale.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$glob.\+h$>$}\newline
{\ttfamily \#include "{}longlisting.\+h"{}}\newline
{\ttfamily \#include "{}emoji\+\_\+utils.\+h"{}}\newline
Include dependency graph for longlisting.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/d84/longlisting_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structfile__info}{file\+\_\+info}}
\begin{DoxyCompactList}\small\item\em Structure to hold detailed information about a file or directory. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{longlisting_8c_ab99ded389af74001a6298fc9e44e74e5}{MAX\+\_\+\+PATH}}~4096
\item 
\#define \mbox{\hyperlink{longlisting_8c_ad30c77daca10f0c2b941969c01beedee}{MAX\+\_\+\+ENTRIES}}~1000
\item 
\#define \mbox{\hyperlink{longlisting_8c_a282c650b178a6634acd24dad309bcfdd}{MAX\+\_\+\+TIME\+\_\+\+AGO\+\_\+\+LEN}}~30
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{longlisting_8c_a33a98d6f57285ecc9ccbd6c2f2b4fd9d}{format\+\_\+size}} (off\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Formats a file size into a human-\/readable string. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{longlisting_8c_a99a2816fdc6aa63a386b8b8aef593274}{format\+\_\+time\+\_\+ago}} (time\+\_\+t file\+\_\+time, char \texorpdfstring{$\ast$}{*}buf, size\+\_\+t buf\+\_\+size)
\begin{DoxyCompactList}\small\item\em Formats the time difference between now and a given time into a human-\/readable string. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{longlisting_8c_a2d5dc342b560667bf07ec576e99ed3d9}{get\+\_\+user\+\_\+rights}} (mode\+\_\+t mode, char \texorpdfstring{$\ast$}{*}rights)
\begin{DoxyCompactList}\small\item\em Converts file permissions to a string of emojis representing user rights. \end{DoxyCompactList}\item 
static off\+\_\+t \mbox{\hyperlink{longlisting_8c_ae8e2a8859c427dba11908d8e975d8bc7}{get\+\_\+dir\+\_\+size}} (const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em Calculates the total size of a directory and its contents. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{longlisting_8c_a066e44c22599f18b5e86355f71992743}{count\+\_\+subdirs}} (const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em Counts the number of subdirectories in a given directory. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{longlisting_8c_a18cb88825df7452df9b5ce2309c887cf}{compare\+\_\+entries}} (const void \texorpdfstring{$\ast$}{*}a, const void \texorpdfstring{$\ast$}{*}b)
\begin{DoxyCompactList}\small\item\em Comparison function for sorting \doxylink{structfile__info}{file\+\_\+info} structures. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{longlisting_8c_a58ed2be9f460ed564cbd43d32e1ce658}{get\+\_\+file\+\_\+info}} (const char \texorpdfstring{$\ast$}{*}path, struct \mbox{\hyperlink{structfile__info}{file\+\_\+info}} \texorpdfstring{$\ast$}{*}fi, size\+\_\+t \texorpdfstring{$\ast$}{*}max\+\_\+owner\+\_\+len, size\+\_\+t \texorpdfstring{$\ast$}{*}max\+\_\+time\+\_\+ago\+\_\+len)
\begin{DoxyCompactList}\small\item\em Gets detailed information about a file. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{longlisting_8c_a33c3f39ac9dd42760160e6cf451aed2a}{print\+\_\+sorted\+\_\+entries}} (struct \mbox{\hyperlink{structfile__info}{file\+\_\+info}} \texorpdfstring{$\ast$}{*}entries, int entry\+\_\+count, size\+\_\+t max\+\_\+owner\+\_\+len, size\+\_\+t max\+\_\+time\+\_\+ago\+\_\+len)
\begin{DoxyCompactList}\small\item\em Prints sorted entries in a detailed format. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{longlisting_8c_a9aa67dc0ec987dacbfbc8dfe5745c5be}{print\+\_\+longlisting}} (const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em Prints a detailed listing of the contents of a directory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{longlisting_8c_a1af2c63d6b774640dcf8f6b3127dfa47}{print\+\_\+longlisting\+\_\+files}} (const char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}patterns, int pattern\+\_\+count)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implementation of detailed directory listing functionality. 

This file contains functions for generating and displaying a detailed listing of directory contents, including file sizes, permissions, modification times, and other attributes.

\begin{DoxyAuthor}{Author}
Sergey Veneckiy 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2024 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.



\doxysubsection{Macro Definition Documentation}
\Hypertarget{longlisting_8c_ad30c77daca10f0c2b941969c01beedee}\label{longlisting_8c_ad30c77daca10f0c2b941969c01beedee} 
\index{longlisting.c@{longlisting.c}!MAX\_ENTRIES@{MAX\_ENTRIES}}
\index{MAX\_ENTRIES@{MAX\_ENTRIES}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{MAX\_ENTRIES}{MAX\_ENTRIES}}
{\footnotesize\ttfamily \#define MAX\+\_\+\+ENTRIES~1000}



Definition at line \mbox{\hyperlink{longlisting_8c_source_l00029}{29}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.



Referenced by \mbox{\hyperlink{longlisting_8c_source_l00306}{print\+\_\+longlisting()}}, and \mbox{\hyperlink{longlisting_8c_source_l00339}{print\+\_\+longlisting\+\_\+files()}}.

\Hypertarget{longlisting_8c_ab99ded389af74001a6298fc9e44e74e5}\label{longlisting_8c_ab99ded389af74001a6298fc9e44e74e5} 
\index{longlisting.c@{longlisting.c}!MAX\_PATH@{MAX\_PATH}}
\index{MAX\_PATH@{MAX\_PATH}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{MAX\_PATH}{MAX\_PATH}}
{\footnotesize\ttfamily \#define MAX\+\_\+\+PATH~4096}



Definition at line \mbox{\hyperlink{longlisting_8c_source_l00028}{28}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.



Referenced by \mbox{\hyperlink{longlisting_8c_source_l00168}{count\+\_\+subdirs()}}, \mbox{\hyperlink{longlisting_8c_source_l00135}{get\+\_\+dir\+\_\+size()}}, and \mbox{\hyperlink{longlisting_8c_source_l00306}{print\+\_\+longlisting()}}.

\Hypertarget{longlisting_8c_a282c650b178a6634acd24dad309bcfdd}\label{longlisting_8c_a282c650b178a6634acd24dad309bcfdd} 
\index{longlisting.c@{longlisting.c}!MAX\_TIME\_AGO\_LEN@{MAX\_TIME\_AGO\_LEN}}
\index{MAX\_TIME\_AGO\_LEN@{MAX\_TIME\_AGO\_LEN}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{MAX\_TIME\_AGO\_LEN}{MAX\_TIME\_AGO\_LEN}}
{\footnotesize\ttfamily \#define MAX\+\_\+\+TIME\+\_\+\+AGO\+\_\+\+LEN~30}



Definition at line \mbox{\hyperlink{longlisting_8c_source_l00030}{30}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.



\doxysubsection{Function Documentation}
\Hypertarget{longlisting_8c_a18cb88825df7452df9b5ce2309c887cf}\label{longlisting_8c_a18cb88825df7452df9b5ce2309c887cf} 
\index{longlisting.c@{longlisting.c}!compare\_entries@{compare\_entries}}
\index{compare\_entries@{compare\_entries}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{compare\_entries()}{compare\_entries()}}
{\footnotesize\ttfamily static int compare\+\_\+entries (\begin{DoxyParamCaption}\item[{const void \texorpdfstring{$\ast$}{*}}]{a,  }\item[{const void \texorpdfstring{$\ast$}{*}}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Comparison function for sorting \doxylink{structfile__info}{file\+\_\+info} structures. 


\begin{DoxyParams}{Parameters}
{\em a} & Pointer to the first \doxylink{structfile__info}{file\+\_\+info} structure. \\
\hline
{\em b} & Pointer to the second \doxylink{structfile__info}{file\+\_\+info} structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Integer less than, equal to, or greater than zero if a is found, respectively, to be less than, to match, or be greater than b. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{longlisting_8c_source_l00199}{199}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ *fa\ =\ (\textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ *)a;}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ *fb\ =\ (\textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ *)b;}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{keywordflow}{if}\ (fa-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}}\ \&\&\ !fb-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}})\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{keywordflow}{if}\ (!fa-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}}\ \&\&\ fb-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}})\ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keywordflow}{if}\ (fa-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}}\ \&\&\ fb-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}})\ \{}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fa-\/>\mbox{\hyperlink{structfile__info_a8a9009da21212dba3a7b8369471ed05e}{subdir\_count}}\ !=\ fb-\/>\mbox{\hyperlink{structfile__info_a8a9009da21212dba3a7b8369471ed05e}{subdir\_count}})\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fb-\/>\mbox{\hyperlink{structfile__info_a8a9009da21212dba3a7b8369471ed05e}{subdir\_count}}\ -\/\ fa-\/>\mbox{\hyperlink{structfile__info_a8a9009da21212dba3a7b8369471ed05e}{subdir\_count}};}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fa-\/>\mbox{\hyperlink{structfile__info_a6e48876c051acfc4d2c0af2840515cd9}{size}}\ !=\ fb-\/>\mbox{\hyperlink{structfile__info_a6e48876c051acfc4d2c0af2840515cd9}{size}})\ \{}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (fa-\/>\mbox{\hyperlink{structfile__info_a6e48876c051acfc4d2c0af2840515cd9}{size}}\ <\ fb-\/>\mbox{\hyperlink{structfile__info_a6e48876c051acfc4d2c0af2840515cd9}{size}})\ ?\ 1\ :\ -\/1;}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00213\ \ \ \ \ \}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keywordflow}{if}\ (!fa-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}}\ \&\&\ !fb-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}})\ \{}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fa-\/>\mbox{\hyperlink{structfile__info_a6e48876c051acfc4d2c0af2840515cd9}{size}}\ !=\ fb-\/>\mbox{\hyperlink{structfile__info_a6e48876c051acfc4d2c0af2840515cd9}{size}})\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (fa-\/>\mbox{\hyperlink{structfile__info_a6e48876c051acfc4d2c0af2840515cd9}{size}}\ <\ fb-\/>\mbox{\hyperlink{structfile__info_a6e48876c051acfc4d2c0af2840515cd9}{size}})\ ?\ 1\ :\ -\/1;}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00219\ \ \ \ \ \}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{keywordflow}{return}\ strcasecmp(fa-\/>\mbox{\hyperlink{structfile__info_af4358e531f11044f1e5a041537676d33}{name}},\ fb-\/>\mbox{\hyperlink{structfile__info_af4358e531f11044f1e5a041537676d33}{name}});}
\DoxyCodeLine{00222\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{longlisting_8c_source_l00042}{file\+\_\+info\+::is\+\_\+dir}}, \mbox{\hyperlink{longlisting_8c_source_l00037}{file\+\_\+info\+::name}}, \mbox{\hyperlink{longlisting_8c_source_l00039}{file\+\_\+info\+::size}}, and \mbox{\hyperlink{longlisting_8c_source_l00043}{file\+\_\+info\+::subdir\+\_\+count}}.



Referenced by \mbox{\hyperlink{longlisting_8c_source_l00306}{print\+\_\+longlisting()}}, and \mbox{\hyperlink{longlisting_8c_source_l00339}{print\+\_\+longlisting\+\_\+files()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d95/longlisting_8c_a18cb88825df7452df9b5ce2309c887cf_icgraph}
\end{center}
\end{figure}
\Hypertarget{longlisting_8c_a066e44c22599f18b5e86355f71992743}\label{longlisting_8c_a066e44c22599f18b5e86355f71992743} 
\index{longlisting.c@{longlisting.c}!count\_subdirs@{count\_subdirs}}
\index{count\_subdirs@{count\_subdirs}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{count\_subdirs()}{count\_subdirs()}}
{\footnotesize\ttfamily static int count\+\_\+subdirs (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Counts the number of subdirectories in a given directory. 


\begin{DoxyParams}{Parameters}
{\em path} & The path of the directory. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of subdirectories. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{longlisting_8c_source_l00168}{168}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00169\ \ \ \ \ DIR\ *dir;}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keyword}{struct\ }dirent\ *entry;}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keywordtype}{int}\ count\ =\ 0;}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ \ \ dir\ =\ opendir(path);}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keywordflow}{if}\ (!dir)\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keywordflow}{while}\ ((entry\ =\ readdir(dir))\ !=\ NULL)\ \{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strcmp(entry-\/>d\_name,\ \textcolor{stringliteral}{"{}."{}})\ ==\ 0\ ||\ strcmp(entry-\/>d\_name,\ \textcolor{stringliteral}{"{}.."{}})\ ==\ 0)\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ full\_path[\mbox{\hyperlink{longlisting_8c_ab99ded389af74001a6298fc9e44e74e5}{MAX\_PATH}}];}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ snprintf(full\_path,\ \textcolor{keyword}{sizeof}(full\_path),\ \textcolor{stringliteral}{"{}\%s/\%s"{}},\ path,\ entry-\/>d\_name);}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }stat\ st;}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stat(full\_path,\ \&st)\ ==\ 0\ \&\&\ S\_ISDIR(st.st\_mode))\ \{}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ count++;}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00186\ \ \ \ \ \}}
\DoxyCodeLine{00187\ \ \ \ \ closedir(dir);}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordflow}{return}\ count;}
\DoxyCodeLine{00189\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{longlisting_8c_source_l00028}{MAX\+\_\+\+PATH}}.



Referenced by \mbox{\hyperlink{longlisting_8c_source_l00233}{get\+\_\+file\+\_\+info()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d95/longlisting_8c_a066e44c22599f18b5e86355f71992743_icgraph}
\end{center}
\end{figure}
\Hypertarget{longlisting_8c_a33a98d6f57285ecc9ccbd6c2f2b4fd9d}\label{longlisting_8c_a33a98d6f57285ecc9ccbd6c2f2b4fd9d} 
\index{longlisting.c@{longlisting.c}!format\_size@{format\_size}}
\index{format\_size@{format\_size}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{format\_size()}{format\_size()}}
{\footnotesize\ttfamily static char \texorpdfstring{$\ast$}{*} format\+\_\+size (\begin{DoxyParamCaption}\item[{off\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Formats a file size into a human-\/readable string. 


\begin{DoxyParams}{Parameters}
{\em size} & The size in bytes to format. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a static buffer containing the formatted size string. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{longlisting_8c_source_l00065}{65}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ buf[64];}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *units[]\ =\ \{\textcolor{stringliteral}{"{}B"{}},\ \textcolor{stringliteral}{"{}K"{}},\ \textcolor{stringliteral}{"{}M"{}},\ \textcolor{stringliteral}{"{}G"{}},\ \textcolor{stringliteral}{"{}T"{}},\ \textcolor{stringliteral}{"{}P"{}},\ \textcolor{stringliteral}{"{}E"{}},\ \textcolor{stringliteral}{"{}Z"{}},\ \textcolor{stringliteral}{"{}Y"{}}\};}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ 0;}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordtype}{double}\ dsize\ =\ size;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{while}\ (dsize\ >=\ 1024\ \&\&\ i\ <\ 8)\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ dsize\ /=\ 1024;}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ i++;}
\DoxyCodeLine{00074\ \ \ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ snprintf(buf,\ \textcolor{keyword}{sizeof}(buf),\ \textcolor{stringliteral}{"{}\%.1f\%s"{}},\ dsize,\ units[i]);}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{return}\ buf;}
\DoxyCodeLine{00078\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{longlisting_8c_source_l00279}{print\+\_\+sorted\+\_\+entries()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d95/longlisting_8c_a33a98d6f57285ecc9ccbd6c2f2b4fd9d_icgraph}
\end{center}
\end{figure}
\Hypertarget{longlisting_8c_a99a2816fdc6aa63a386b8b8aef593274}\label{longlisting_8c_a99a2816fdc6aa63a386b8b8aef593274} 
\index{longlisting.c@{longlisting.c}!format\_time\_ago@{format\_time\_ago}}
\index{format\_time\_ago@{format\_time\_ago}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{format\_time\_ago()}{format\_time\_ago()}}
{\footnotesize\ttfamily static void format\+\_\+time\+\_\+ago (\begin{DoxyParamCaption}\item[{time\+\_\+t}]{file\+\_\+time,  }\item[{char \texorpdfstring{$\ast$}{*}}]{buf,  }\item[{size\+\_\+t}]{buf\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Formats the time difference between now and a given time into a human-\/readable string. 


\begin{DoxyParams}{Parameters}
{\em file\+\_\+time} & The time to format. \\
\hline
{\em buf} & Buffer to store the formatted string. \\
\hline
{\em buf\+\_\+size} & Size of the buffer. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{longlisting_8c_source_l00087}{87}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00088\ \ \ \ \ time\_t\ now\ =\ time(NULL);}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{double}\ seconds\ =\ difftime(now,\ file\_time);}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{int}\ minutes\ =\ (int)(seconds\ /\ 60);}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordtype}{int}\ hours\ =\ minutes\ /\ 60;}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{int}\ days\ =\ hours\ /\ 24;}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordtype}{int}\ months\ =\ days\ /\ 30;\ \ \textcolor{comment}{//\ Approximation}}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{int}\ years\ =\ days\ /\ 365;\ \ \textcolor{comment}{//\ Approximation}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordflow}{if}\ (years\ >\ 0)\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ snprintf(buf,\ buf\_size,\ \textcolor{stringliteral}{"{}\%dy\ \%dm\ ago"{}},\ years,\ months\ \%\ 12);}
\DoxyCodeLine{00098\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (months\ >\ 0)\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ snprintf(buf,\ buf\_size,\ \textcolor{stringliteral}{"{}\%dm\ \%dd\ ago"{}},\ months,\ days\ \%\ 30);}
\DoxyCodeLine{00100\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (days\ >\ 0)\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ snprintf(buf,\ buf\_size,\ \textcolor{stringliteral}{"{}\%dd\ ago"{}},\ days);}
\DoxyCodeLine{00102\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (hours\ >\ 0)\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ snprintf(buf,\ buf\_size,\ \textcolor{stringliteral}{"{}\%dh\ ago"{}},\ hours);}
\DoxyCodeLine{00104\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (minutes\ >\ 0)\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ snprintf(buf,\ buf\_size,\ \textcolor{stringliteral}{"{}\%dm\ ago"{}},\ minutes);}
\DoxyCodeLine{00106\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ snprintf(buf,\ buf\_size,\ \textcolor{stringliteral}{"{}just\ now"{}});}
\DoxyCodeLine{00108\ \ \ \ \ \}}
\DoxyCodeLine{00109\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{longlisting_8c_source_l00233}{get\+\_\+file\+\_\+info()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d95/longlisting_8c_a99a2816fdc6aa63a386b8b8aef593274_icgraph}
\end{center}
\end{figure}
\Hypertarget{longlisting_8c_ae8e2a8859c427dba11908d8e975d8bc7}\label{longlisting_8c_ae8e2a8859c427dba11908d8e975d8bc7} 
\index{longlisting.c@{longlisting.c}!get\_dir\_size@{get\_dir\_size}}
\index{get\_dir\_size@{get\_dir\_size}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{get\_dir\_size()}{get\_dir\_size()}}
{\footnotesize\ttfamily static off\+\_\+t get\+\_\+dir\+\_\+size (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Calculates the total size of a directory and its contents. 


\begin{DoxyParams}{Parameters}
{\em path} & The path of the directory. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The total size of the directory in bytes. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{longlisting_8c_source_l00135}{135}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00136\ \ \ \ \ DIR\ *dir;}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keyword}{struct\ }dirent\ *entry;}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keyword}{struct\ }stat\ st;}
\DoxyCodeLine{00139\ \ \ \ \ off\_t\ total\_size\ =\ 0;}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordtype}{char}\ full\_path[\mbox{\hyperlink{longlisting_8c_ab99ded389af74001a6298fc9e44e74e5}{MAX\_PATH}}];}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ dir\ =\ opendir(path);}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordflow}{if}\ (!dir)\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{while}\ ((entry\ =\ readdir(dir))\ !=\ NULL)\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strcmp(entry-\/>d\_name,\ \textcolor{stringliteral}{"{}."{}})\ ==\ 0\ ||\ strcmp(entry-\/>d\_name,\ \textcolor{stringliteral}{"{}.."{}})\ ==\ 0)\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ snprintf(full\_path,\ \textcolor{keyword}{sizeof}(full\_path),\ \textcolor{stringliteral}{"{}\%s/\%s"{}},\ path,\ entry-\/>d\_name);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (lstat(full\_path,\ \&st)\ ==\ 0)\ \{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (S\_ISDIR(st.st\_mode))\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ total\_size\ +=\ \mbox{\hyperlink{longlisting_8c_ae8e2a8859c427dba11908d8e975d8bc7}{get\_dir\_size}}(full\_path);}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ total\_size\ +=\ st.st\_size;}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00157\ \ \ \ \ \}}
\DoxyCodeLine{00158\ \ \ \ \ closedir(dir);}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{return}\ total\_size;}
\DoxyCodeLine{00160\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{longlisting_8c_source_l00135}{get\+\_\+dir\+\_\+size()}}, and \mbox{\hyperlink{longlisting_8c_source_l00028}{MAX\+\_\+\+PATH}}.



Referenced by \mbox{\hyperlink{longlisting_8c_source_l00135}{get\+\_\+dir\+\_\+size()}}, and \mbox{\hyperlink{longlisting_8c_source_l00233}{get\+\_\+file\+\_\+info()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=155pt]{d6/d95/longlisting_8c_ae8e2a8859c427dba11908d8e975d8bc7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d95/longlisting_8c_ae8e2a8859c427dba11908d8e975d8bc7_icgraph}
\end{center}
\end{figure}
\Hypertarget{longlisting_8c_a58ed2be9f460ed564cbd43d32e1ce658}\label{longlisting_8c_a58ed2be9f460ed564cbd43d32e1ce658} 
\index{longlisting.c@{longlisting.c}!get\_file\_info@{get\_file\_info}}
\index{get\_file\_info@{get\_file\_info}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{get\_file\_info()}{get\_file\_info()}}
{\footnotesize\ttfamily static int get\+\_\+file\+\_\+info (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path,  }\item[{struct \mbox{\hyperlink{structfile__info}{file\+\_\+info}} \texorpdfstring{$\ast$}{*}}]{fi,  }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{max\+\_\+owner\+\_\+len,  }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{max\+\_\+time\+\_\+ago\+\_\+len }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Gets detailed information about a file. 


\begin{DoxyParams}{Parameters}
{\em path} & The path to the file. \\
\hline
{\em fi} & Pointer to a \doxylink{structfile__info}{file\+\_\+info} structure to populate. \\
\hline
{\em max\+\_\+owner\+\_\+len} & Pointer to store the maximum owner name length. \\
\hline
{\em max\+\_\+time\+\_\+ago\+\_\+len} & Pointer to store the maximum time ago string length. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on failure. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{longlisting_8c_source_l00233}{233}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00234\ \ \ \ \ \textcolor{keyword}{struct\ }stat\ st;}
\DoxyCodeLine{00235\ \ \ \ \ \textcolor{keywordflow}{if}\ (lstat(path,\ \&st)\ !=\ 0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \ \ \ \ strncpy(fi-\/>\mbox{\hyperlink{structfile__info_af4358e531f11044f1e5a041537676d33}{name}},\ path,\ \textcolor{keyword}{sizeof}(fi-\/>\mbox{\hyperlink{structfile__info_af4358e531f11044f1e5a041537676d33}{name}})\ -\/\ 1);}
\DoxyCodeLine{00238\ \ \ \ \ fi-\/>\mbox{\hyperlink{structfile__info_af4358e531f11044f1e5a041537676d33}{name}}[\textcolor{keyword}{sizeof}(fi-\/>\mbox{\hyperlink{structfile__info_af4358e531f11044f1e5a041537676d33}{name}})\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00239\ \ \ \ \ strncpy(fi-\/>\mbox{\hyperlink{structfile__info_a605808d3db7b33b36b4cce172ca71eb0}{full\_path}},\ path,\ \textcolor{keyword}{sizeof}(fi-\/>\mbox{\hyperlink{structfile__info_a605808d3db7b33b36b4cce172ca71eb0}{full\_path}})\ -\/\ 1);}
\DoxyCodeLine{00240\ \ \ \ \ fi-\/>\mbox{\hyperlink{structfile__info_a605808d3db7b33b36b4cce172ca71eb0}{full\_path}}[\textcolor{keyword}{sizeof}(fi-\/>\mbox{\hyperlink{structfile__info_a605808d3db7b33b36b4cce172ca71eb0}{full\_path}})\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \ \ fi-\/>\mbox{\hyperlink{structfile__info_a0df946c901068e5d66df47dc8d922f43}{mode}}\ =\ st.st\_mode;}
\DoxyCodeLine{00243\ \ \ \ \ fi-\/>\mbox{\hyperlink{structfile__info_ae8d2e03538d68731843ce28ae6264882}{mtime}}\ =\ st.st\_mtime;}
\DoxyCodeLine{00244\ \ \ \ \ fi-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}}\ =\ S\_ISDIR(st.st\_mode);}
\DoxyCodeLine{00245\ \ \ \ \ fi-\/>\mbox{\hyperlink{structfile__info_a6e48876c051acfc4d2c0af2840515cd9}{size}}\ =\ fi-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}}\ ?\ \mbox{\hyperlink{longlisting_8c_ae8e2a8859c427dba11908d8e975d8bc7}{get\_dir\_size}}(path)\ :\ st.st\_size;}
\DoxyCodeLine{00246\ \ \ \ \ fi-\/>\mbox{\hyperlink{structfile__info_a8a9009da21212dba3a7b8369471ed05e}{subdir\_count}}\ =\ fi-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}}\ ?\ \mbox{\hyperlink{longlisting_8c_a066e44c22599f18b5e86355f71992743}{count\_subdirs}}(path)\ :\ 0;}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keyword}{struct\ }passwd\ *pw\ =\ getpwuid(st.st\_uid);}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keywordflow}{if}\ (pw)\ \{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ strncpy(fi-\/>\mbox{\hyperlink{structfile__info_a8313d9a4b0297566dbf509513e6eda34}{owner}},\ pw-\/>pw\_name,\ \textcolor{keyword}{sizeof}(fi-\/>\mbox{\hyperlink{structfile__info_a8313d9a4b0297566dbf509513e6eda34}{owner}})\ -\/\ 1);}
\DoxyCodeLine{00251\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ snprintf(fi-\/>\mbox{\hyperlink{structfile__info_a8313d9a4b0297566dbf509513e6eda34}{owner}},\ \textcolor{keyword}{sizeof}(fi-\/>\mbox{\hyperlink{structfile__info_a8313d9a4b0297566dbf509513e6eda34}{owner}}),\ \textcolor{stringliteral}{"{}\%d"{}},\ st.st\_uid);}
\DoxyCodeLine{00253\ \ \ \ \ \}}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ owner\_len\ =\ strlen(fi-\/>\mbox{\hyperlink{structfile__info_a8313d9a4b0297566dbf509513e6eda34}{owner}});}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keywordflow}{if}\ (owner\_len\ >\ *max\_owner\_len)\ \{}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ *max\_owner\_len\ =\ owner\_len;}
\DoxyCodeLine{00258\ \ \ \ \ \}}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \ \ \ \ \mbox{\hyperlink{longlisting_8c_a99a2816fdc6aa63a386b8b8aef593274}{format\_time\_ago}}(fi-\/>\mbox{\hyperlink{structfile__info_ae8d2e03538d68731843ce28ae6264882}{mtime}},\ fi-\/>\mbox{\hyperlink{structfile__info_ad0bb2c46351f70095588257823a5ccfd}{time\_ago}},\ \textcolor{keyword}{sizeof}(fi-\/>\mbox{\hyperlink{structfile__info_ad0bb2c46351f70095588257823a5ccfd}{time\_ago}}));}
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ time\_ago\_len\ =\ strlen(fi-\/>\mbox{\hyperlink{structfile__info_ad0bb2c46351f70095588257823a5ccfd}{time\_ago}});}
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keywordflow}{if}\ (time\_ago\_len\ >\ *max\_time\_ago\_len)\ \{}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ *max\_time\_ago\_len\ =\ time\_ago\_len;}
\DoxyCodeLine{00264\ \ \ \ \ \}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \ \ \ \ \mbox{\hyperlink{longlisting_8c_a2d5dc342b560667bf07ec576e99ed3d9}{get\_user\_rights}}(fi-\/>\mbox{\hyperlink{structfile__info_a0df946c901068e5d66df47dc8d922f43}{mode}},\ fi-\/>\mbox{\hyperlink{structfile__info_a0bba7f65248bd234563e548f19b9051b}{user\_rights}});}
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00269\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{longlisting_8c_source_l00168}{count\+\_\+subdirs()}}, \mbox{\hyperlink{longlisting_8c_source_l00087}{format\+\_\+time\+\_\+ago()}}, \mbox{\hyperlink{longlisting_8c_source_l00038}{file\+\_\+info\+::full\+\_\+path}}, \mbox{\hyperlink{longlisting_8c_source_l00135}{get\+\_\+dir\+\_\+size()}}, \mbox{\hyperlink{longlisting_8c_source_l00117}{get\+\_\+user\+\_\+rights()}}, \mbox{\hyperlink{longlisting_8c_source_l00042}{file\+\_\+info\+::is\+\_\+dir}}, \mbox{\hyperlink{longlisting_8c_source_l00040}{file\+\_\+info\+::mode}}, \mbox{\hyperlink{longlisting_8c_source_l00041}{file\+\_\+info\+::mtime}}, \mbox{\hyperlink{longlisting_8c_source_l00037}{file\+\_\+info\+::name}}, \mbox{\hyperlink{longlisting_8c_source_l00044}{file\+\_\+info\+::owner}}, \mbox{\hyperlink{longlisting_8c_source_l00039}{file\+\_\+info\+::size}}, \mbox{\hyperlink{longlisting_8c_source_l00043}{file\+\_\+info\+::subdir\+\_\+count}}, \mbox{\hyperlink{longlisting_8c_source_l00046}{file\+\_\+info\+::time\+\_\+ago}}, and \mbox{\hyperlink{longlisting_8c_source_l00045}{file\+\_\+info\+::user\+\_\+rights}}.



Referenced by \mbox{\hyperlink{longlisting_8c_source_l00306}{print\+\_\+longlisting()}}, and \mbox{\hyperlink{longlisting_8c_source_l00339}{print\+\_\+longlisting\+\_\+files()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=292pt]{d6/d95/longlisting_8c_a58ed2be9f460ed564cbd43d32e1ce658_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d95/longlisting_8c_a58ed2be9f460ed564cbd43d32e1ce658_icgraph}
\end{center}
\end{figure}
\Hypertarget{longlisting_8c_a2d5dc342b560667bf07ec576e99ed3d9}\label{longlisting_8c_a2d5dc342b560667bf07ec576e99ed3d9} 
\index{longlisting.c@{longlisting.c}!get\_user\_rights@{get\_user\_rights}}
\index{get\_user\_rights@{get\_user\_rights}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{get\_user\_rights()}{get\_user\_rights()}}
{\footnotesize\ttfamily static void get\+\_\+user\+\_\+rights (\begin{DoxyParamCaption}\item[{mode\+\_\+t}]{mode,  }\item[{char \texorpdfstring{$\ast$}{*}}]{rights }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Converts file permissions to a string of emojis representing user rights. 


\begin{DoxyParams}{Parameters}
{\em mode} & The file mode containing the permissions. \\
\hline
{\em rights} & Buffer to store the emoji string. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{longlisting_8c_source_l00117}{117}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *read\ =\ \textcolor{stringliteral}{"{}\(\backslash\)xF0\(\backslash\)x9F\(\backslash\)x91\(\backslash\)x80"{}};\ \ \ \textcolor{comment}{//\ üëÄ}}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *write\ =\ \textcolor{stringliteral}{"{}\(\backslash\)xE2\(\backslash\)x9C\(\backslash\)x8F\(\backslash\)xEF\(\backslash\)xB8\(\backslash\)x8F"{}};\ \textcolor{comment}{//\ ‚úèÔ∏è}}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *exec\ =\ \textcolor{stringliteral}{"{}\(\backslash\)xF0\(\backslash\)x9F\(\backslash\)x9A\(\backslash\)x80"{}};\ \ \ \textcolor{comment}{//\ üöÄ}}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *no\ =\ \textcolor{stringliteral}{"{}\(\backslash\)xE2\(\backslash\)x9D\(\backslash\)x8C"{}};\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ‚ùå}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ strcpy(rights,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00124\ \ \ \ \ strcat(rights,\ (mode\ \&\ S\_IRUSR)\ ?\ read\ :\ no);}
\DoxyCodeLine{00125\ \ \ \ \ strcat(rights,\ (mode\ \&\ S\_IWUSR)\ ?\ write\ :\ no);}
\DoxyCodeLine{00126\ \ \ \ \ strcat(rights,\ (mode\ \&\ S\_IXUSR)\ ?\ exec\ :\ no);}
\DoxyCodeLine{00127\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{longlisting_8c_source_l00233}{get\+\_\+file\+\_\+info()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d95/longlisting_8c_a2d5dc342b560667bf07ec576e99ed3d9_icgraph}
\end{center}
\end{figure}
\Hypertarget{longlisting_8c_a9aa67dc0ec987dacbfbc8dfe5745c5be}\label{longlisting_8c_a9aa67dc0ec987dacbfbc8dfe5745c5be} 
\index{longlisting.c@{longlisting.c}!print\_longlisting@{print\_longlisting}}
\index{print\_longlisting@{print\_longlisting}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{print\_longlisting()}{print\_longlisting()}}
{\footnotesize\ttfamily void print\+\_\+longlisting (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path }\end{DoxyParamCaption})}



Prints a detailed listing of the contents of a directory. 


\begin{DoxyParams}{Parameters}
{\em path} & The path of the directory to list. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{longlisting_8c_source_l00306}{306}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00307\ \ \ \ \ setlocale(LC\_ALL,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ entries[\mbox{\hyperlink{longlisting_8c_ad30c77daca10f0c2b941969c01beedee}{MAX\_ENTRIES}}];}
\DoxyCodeLine{00310\ \ \ \ \ \textcolor{keywordtype}{int}\ entry\_count\ =\ 0;}
\DoxyCodeLine{00311\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ max\_owner\_len\ =\ 0;}
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ max\_time\_ago\_len\ =\ 0;}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00314\ \ \ \ \ DIR\ *dir\ =\ opendir(path);}
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{keywordflow}{if}\ (!dir)\ \{}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}Error\ opening\ directory"{}});}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00318\ \ \ \ \ \}}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \ \ \ \ \textcolor{keyword}{struct\ }dirent\ *entry;}
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{keywordflow}{while}\ ((entry\ =\ readdir(dir))\ !=\ NULL\ \&\&\ entry\_count\ <\ \mbox{\hyperlink{longlisting_8c_ad30c77daca10f0c2b941969c01beedee}{MAX\_ENTRIES}})\ \{}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strcmp(entry-\/>d\_name,\ \textcolor{stringliteral}{"{}."{}})\ ==\ 0\ ||\ strcmp(entry-\/>d\_name,\ \textcolor{stringliteral}{"{}.."{}})\ ==\ 0)\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ full\_path[\mbox{\hyperlink{longlisting_8c_ab99ded389af74001a6298fc9e44e74e5}{MAX\_PATH}}];}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ snprintf(full\_path,\ \textcolor{keyword}{sizeof}(full\_path),\ \textcolor{stringliteral}{"{}\%s/\%s"{}},\ path,\ entry-\/>d\_name);}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ *fi\ =\ \&entries[entry\_count];}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{longlisting_8c_a58ed2be9f460ed564cbd43d32e1ce658}{get\_file\_info}}(\mbox{\hyperlink{structfile__info_a605808d3db7b33b36b4cce172ca71eb0}{full\_path}},\ fi,\ \&max\_owner\_len,\ \&max\_time\_ago\_len)\ ==\ 0)\ \{}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ entry\_count++;}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00331\ \ \ \ \ \}}
\DoxyCodeLine{00332\ \ \ \ \ closedir(dir);}
\DoxyCodeLine{00333\ }
\DoxyCodeLine{00334\ \ \ \ \ qsort(entries,\ entry\_count,\ \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structfile__info}{file\_info}}),\ \mbox{\hyperlink{longlisting_8c_a18cb88825df7452df9b5ce2309c887cf}{compare\_entries}});}
\DoxyCodeLine{00335\ \ \ \ \ \mbox{\hyperlink{longlisting_8c_a33c3f39ac9dd42760160e6cf451aed2a}{print\_sorted\_entries}}(entries,\ entry\_count,\ max\_owner\_len,\ max\_time\_ago\_len);}
\DoxyCodeLine{00336\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{longlisting_8c_source_l00199}{compare\+\_\+entries()}}, \mbox{\hyperlink{longlisting_8c_source_l00038}{file\+\_\+info\+::full\+\_\+path}}, \mbox{\hyperlink{longlisting_8c_source_l00233}{get\+\_\+file\+\_\+info()}}, \mbox{\hyperlink{longlisting_8c_source_l00029}{MAX\+\_\+\+ENTRIES}}, \mbox{\hyperlink{longlisting_8c_source_l00028}{MAX\+\_\+\+PATH}}, and \mbox{\hyperlink{longlisting_8c_source_l00279}{print\+\_\+sorted\+\_\+entries()}}.



Referenced by \mbox{\hyperlink{main_8c_source_l00275}{main()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d95/longlisting_8c_a9aa67dc0ec987dacbfbc8dfe5745c5be_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{d6/d95/longlisting_8c_a9aa67dc0ec987dacbfbc8dfe5745c5be_icgraph}
\end{center}
\end{figure}
\Hypertarget{longlisting_8c_a1af2c63d6b774640dcf8f6b3127dfa47}\label{longlisting_8c_a1af2c63d6b774640dcf8f6b3127dfa47} 
\index{longlisting.c@{longlisting.c}!print\_longlisting\_files@{print\_longlisting\_files}}
\index{print\_longlisting\_files@{print\_longlisting\_files}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{print\_longlisting\_files()}{print\_longlisting\_files()}}
{\footnotesize\ttfamily void print\+\_\+longlisting\+\_\+files (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{patterns,  }\item[{int}]{pattern\+\_\+count }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{longlisting_8c_source_l00339}{339}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00340\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ entries[\mbox{\hyperlink{longlisting_8c_ad30c77daca10f0c2b941969c01beedee}{MAX\_ENTRIES}}];}
\DoxyCodeLine{00341\ \ \ \ \ \textcolor{keywordtype}{int}\ entry\_count\ =\ 0;}
\DoxyCodeLine{00342\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ max\_owner\_len\ =\ 0;}
\DoxyCodeLine{00343\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ max\_time\_ago\_len\ =\ 0;}
\DoxyCodeLine{00344\ }
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ pattern\_count;\ i++)\ \{}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ glob\_t\ globbuf;}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ glob\_result\ =\ glob(patterns[i],\ GLOB\_TILDE,\ NULL,\ \&globbuf);}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (glob\_result\ ==\ 0)\ \{}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ j\ =\ 0;\ j\ <\ globbuf.gl\_pathc\ \&\&\ entry\_count\ <\ \mbox{\hyperlink{longlisting_8c_ad30c77daca10f0c2b941969c01beedee}{MAX\_ENTRIES}};\ j++)\ \{}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ *fi\ =\ \&entries[entry\_count];}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{longlisting_8c_a58ed2be9f460ed564cbd43d32e1ce658}{get\_file\_info}}(globbuf.gl\_pathv[j],\ fi,\ \&max\_owner\_len,\ \&max\_time\_ago\_len)\ ==\ 0)\ \{}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ entry\_count++;}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}glob\ error\ for\ pattern\ '\%s':\ \%s\(\backslash\)n"{}},\ patterns[i],\ strerror(errno));}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ globfree(\&globbuf);}
\DoxyCodeLine{00360\ \ \ \ \ \}}
\DoxyCodeLine{00361\ }
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{keywordflow}{if}\ (entry\_count\ >\ 0)\ \{}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ qsort(entries,\ entry\_count,\ \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structfile__info}{file\_info}}),\ \mbox{\hyperlink{longlisting_8c_a18cb88825df7452df9b5ce2309c887cf}{compare\_entries}});}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{longlisting_8c_a33c3f39ac9dd42760160e6cf451aed2a}{print\_sorted\_entries}}(entries,\ entry\_count,\ max\_owner\_len,\ max\_time\_ago\_len);}
\DoxyCodeLine{00365\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}No\ matching\ files\ found.\(\backslash\)n"{}});}
\DoxyCodeLine{00367\ \ \ \ \ \}}
\DoxyCodeLine{00368\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{longlisting_8c_source_l00199}{compare\+\_\+entries()}}, \mbox{\hyperlink{longlisting_8c_source_l00233}{get\+\_\+file\+\_\+info()}}, \mbox{\hyperlink{longlisting_8c_source_l00029}{MAX\+\_\+\+ENTRIES}}, and \mbox{\hyperlink{longlisting_8c_source_l00279}{print\+\_\+sorted\+\_\+entries()}}.



Referenced by \mbox{\hyperlink{main_8c_source_l00275}{main()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d95/longlisting_8c_a1af2c63d6b774640dcf8f6b3127dfa47_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=277pt]{d6/d95/longlisting_8c_a1af2c63d6b774640dcf8f6b3127dfa47_icgraph}
\end{center}
\end{figure}
\Hypertarget{longlisting_8c_a33c3f39ac9dd42760160e6cf451aed2a}\label{longlisting_8c_a33c3f39ac9dd42760160e6cf451aed2a} 
\index{longlisting.c@{longlisting.c}!print\_sorted\_entries@{print\_sorted\_entries}}
\index{print\_sorted\_entries@{print\_sorted\_entries}!longlisting.c@{longlisting.c}}
\doxysubsubsection{\texorpdfstring{print\_sorted\_entries()}{print\_sorted\_entries()}}
{\footnotesize\ttfamily static void print\+\_\+sorted\+\_\+entries (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structfile__info}{file\+\_\+info}} \texorpdfstring{$\ast$}{*}}]{entries,  }\item[{int}]{entry\+\_\+count,  }\item[{size\+\_\+t}]{max\+\_\+owner\+\_\+len,  }\item[{size\+\_\+t}]{max\+\_\+time\+\_\+ago\+\_\+len }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Prints sorted entries in a detailed format. 


\begin{DoxyParams}{Parameters}
{\em entries} & Array of \doxylink{structfile__info}{file\+\_\+info} structures. \\
\hline
{\em entry\+\_\+count} & Number of entries in the array. \\
\hline
{\em max\+\_\+owner\+\_\+len} & Maximum length of owner names. \\
\hline
{\em max\+\_\+time\+\_\+ago\+\_\+len} & Maximum length of time ago strings. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{longlisting_8c_source_l00279}{279}} of file \mbox{\hyperlink{longlisting_8c_source}{longlisting.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ entry\_count;\ i++)\ \{}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfile__info}{file\_info}}\ *fi\ =\ \&entries[i];}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ *emoji\ =\ \mbox{\hyperlink{emoji__utils_8c_a853b78da7b6116949e96148e040669d5}{get\_emoji}}(fi-\/>\mbox{\hyperlink{structfile__info_a605808d3db7b33b36b4cce172ca71eb0}{full\_path}});}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\%8s\ \ \%-\/*s\ \ \(\backslash\)xF0\(\backslash\)x9F\(\backslash\)x91\(\backslash\)x91:\ \%-\/*s\ \(\backslash\)xF0\(\backslash\)x9F\(\backslash\)x93\(\backslash\)x9C:\ \%s\ \ \%s\ \%-\/17s"{}},}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{longlisting_8c_a33a98d6f57285ecc9ccbd6c2f2b4fd9d}{format\_size}}(fi-\/>\mbox{\hyperlink{structfile__info_a6e48876c051acfc4d2c0af2840515cd9}{size}}),}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{int})max\_time\_ago\_len,\ fi-\/>\mbox{\hyperlink{structfile__info_ad0bb2c46351f70095588257823a5ccfd}{time\_ago}},}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{int})max\_owner\_len,\ fi-\/>\mbox{\hyperlink{structfile__info_a8313d9a4b0297566dbf509513e6eda34}{owner}},}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fi-\/>\mbox{\hyperlink{structfile__info_a0bba7f65248bd234563e548f19b9051b}{user\_rights}},}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ emoji,}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fi-\/>\mbox{\hyperlink{structfile__info_af4358e531f11044f1e5a041537676d33}{name}});}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fi-\/>\mbox{\hyperlink{structfile__info_a75dece3e86707e5f1b28430b78e98d08}{is\_dir}})\ \{}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}(\%d)"{}},\ fi-\/>\mbox{\hyperlink{structfile__info_a8a9009da21212dba3a7b8369471ed05e}{subdir\_count}});}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ free(emoji);}
\DoxyCodeLine{00298\ \ \ \ \ \}}
\DoxyCodeLine{00299\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{longlisting_8c_source_l00065}{format\+\_\+size()}}, \mbox{\hyperlink{longlisting_8c_source_l00038}{file\+\_\+info\+::full\+\_\+path}}, \mbox{\hyperlink{emoji__utils_8c_source_l00095}{get\+\_\+emoji()}}, \mbox{\hyperlink{longlisting_8c_source_l00042}{file\+\_\+info\+::is\+\_\+dir}}, \mbox{\hyperlink{longlisting_8c_source_l00037}{file\+\_\+info\+::name}}, \mbox{\hyperlink{longlisting_8c_source_l00044}{file\+\_\+info\+::owner}}, \mbox{\hyperlink{longlisting_8c_source_l00039}{file\+\_\+info\+::size}}, \mbox{\hyperlink{longlisting_8c_source_l00043}{file\+\_\+info\+::subdir\+\_\+count}}, \mbox{\hyperlink{longlisting_8c_source_l00046}{file\+\_\+info\+::time\+\_\+ago}}, and \mbox{\hyperlink{longlisting_8c_source_l00045}{file\+\_\+info\+::user\+\_\+rights}}.



Referenced by \mbox{\hyperlink{longlisting_8c_source_l00306}{print\+\_\+longlisting()}}, and \mbox{\hyperlink{longlisting_8c_source_l00339}{print\+\_\+longlisting\+\_\+files()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d95/longlisting_8c_a33c3f39ac9dd42760160e6cf451aed2a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d95/longlisting_8c_a33c3f39ac9dd42760160e6cf451aed2a_icgraph}
\end{center}
\end{figure}
